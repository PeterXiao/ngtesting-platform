webpackJsonp([28],{"3qmF":function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=e("/oeL"),u=function(){return function(){}}(),i=e("qbdv"),o=e("bm2B"),r=e("BkNc"),a=e("9Qcf"),s=e("maBJ"),d=e("R08E"),c=e("Qg/J"),p=e("WDs4"),g=e("jk5u"),f=e("g5gQ"),h=e("mtQK"),v=e("Rhg7"),_=e("xBEz"),m=e("PuIS"),b=e("5h8W"),D=e("tzcA"),y=e("PY9B");function S(l){return"string"===typeof l}function C(l){return void 0!==l&&null!==l}var w=function(){return function(l){this.name=l}}();w.COPY=new w("copy"),w.LINK=new w("link"),w.MOVE=new w("move"),w.NONE=new w("none");var E=function(){return function(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=w.MOVE,this.dropEffect=w.MOVE,this.dragCursor="move",this.defaultCursor="pointer"}}();function P(){return new R}var R=function(){return function(){this.allowedDropZones=[]}}();function k(l){return new O(l)}var x,O=function(){function l(l){this._config=l}return Object.defineProperty(l.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),l.prototype.markSortable=function(l){C(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),C(l)&&(this._elem=l,this._elem.classList.add(this._config.onSortableDragClass))},l.ctorParameters=function(){return[{type:E}]},l}(),I=function(){function l(l,n,e,t){var u=this;this._dragDropService=n,this._config=e,this._cdr=t,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._defaultCursor=e.defaultCursor,this._elem=l.nativeElement,this._elem.style.cursor=this._defaultCursor,this._elem.ondragenter=function(l){u._onDragEnter(l)},this._elem.ondragover=function(l){return u._onDragOver(l),null!=l.dataTransfer&&(l.dataTransfer.dropEffect=u._config.dropEffect.name),!1},this._elem.ondragleave=function(l){u._onDragLeave(l)},this._elem.ondrop=function(l){u._onDrop(l)},this._elem.onmousedown=function(l){u._target=l.target},this._elem.ondragstart=function(l){if(!u._dragHandle||u._dragHandle.contains(u._target)){if(u._onDragStart(l),null!=l.dataTransfer){if(l.dataTransfer.setData("text",""),l.dataTransfer.effectAllowed=u.effectAllowed||u._config.dragEffect.name,C(u.dragImage))if(S(u.dragImage))l.dataTransfer.setDragImage(function(l){var n=new HTMLImageElement;return n.src=l,n}(u.dragImage));else if("function"===typeof u.dragImage)l.dataTransfer.setDragImage((0,u.dragImage)());else{var n=u.dragImage;l.dataTransfer.setDragImage(n.imageElement,n.x_offset,n.y_offset)}else if(C(u._config.dragImage)){var e=u._config.dragImage;l.dataTransfer.setDragImage(e.imageElement,e.x_offset,e.y_offset)}else u.cloneItem&&(u._dragHelper=u._elem.cloneNode(!0),u._dragHelper.classList.add("dnd-drag-item"),u._dragHelper.style.position="absolute",u._dragHelper.style.top="0px",u._dragHelper.style.left="-1000px",u._elem.parentElement.appendChild(u._dragHelper),l.dataTransfer.setDragImage(u._dragHelper,l.offsetX,l.offsetY));var t=u._dragHandle?u._dragHandle:u._elem;u._dragEnabled?t.style.cursor=u.effectCursor?u.effectCursor:u._config.dragCursor:t.style.cursor=u._defaultCursor}}else l.preventDefault()},this._elem.ondragend=function(l){u._elem.parentElement&&u._dragHelper&&u._elem.parentElement.removeChild(u._dragHelper),u._onDragEnd(l),(u._dragHandle?u._dragHandle:u._elem).style.cursor=u._defaultCursor}}return Object.defineProperty(l.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(l){this._dragEnabled=!!l,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),l.prototype.setDragHandle=function(l){this._dragHandle=l},l.prototype.detectChanges=function(){var l=this;setTimeout(function(){l._cdr.detectChanges()},250)},l.prototype._onDragEnter=function(l){this._isDropAllowed(l)&&this._onDragEnterCallback(l)},l.prototype._onDragOver=function(l){this._isDropAllowed(l)&&(l.preventDefault&&l.preventDefault(),this._onDragOverCallback(l))},l.prototype._onDragLeave=function(l){this._isDropAllowed(l)&&this._onDragLeaveCallback(l)},l.prototype._onDrop=function(l){console.log("---1-_onDrop--",this._elem.id),this._preventAndStop(l),this._isDropAllowed(l)&&(console.log("---2-_onDrop--",this._elem.id),this._onDropCallback(l),this.detectChanges())},l.prototype._isDropAllowed=function(l){if(console.log("-----_isDropAllowed-0-",this._elem.id,this.dropEnabled),(this._dragDropService.isDragged||l.dataTransfer&&l.dataTransfer.files)&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var n=0;n<this._dragDropService.allowedDropZones.length;n++){var e=this._dragDropService.allowedDropZones[n];if(-1!==this.dropZones.indexOf(e))return!0}}return!1},l.prototype._preventAndStop=function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},l.prototype._onDragStart=function(l){console.log("---0-_onDragStart--",this._elem.id),this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(l))},l.prototype._onDragEnd=function(l){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(l)},l.prototype._onDragEnterCallback=function(l){},l.prototype._onDragOverCallback=function(l){},l.prototype._onDragLeaveCallback=function(l){},l.prototype._onDropCallback=function(l){console.log("---333-_onDropCallback--",this._elem.id)},l.prototype._onDragStartCallback=function(l){},l.prototype._onDragEndCallback=function(l){},l.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:t.ChangeDetectorRef}]},l}(),T=function(){return function(l,n,e,t,u){this._dragDropService=n,this._config=e,this._Component=t,this._cdr=u,this._elem=l.nativeElement,this._Component.setDragHandle(this._elem)}}(),M=this&&this.__extends||(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])},function(l,n){function e(){this.constructor=l}x(l,n),l.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),N=function(l){function n(n,e,u,i){var o=l.call(this,n,e,u,i)||this;return o.onDragStart=new t.EventEmitter,o.onDragEnd=new t.EventEmitter,o.onDragSuccessCallback=new t.EventEmitter,o._defaultCursor=o._elem.style.cursor,o.dragEnabled=!0,o}return M(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(l){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:l})},n.prototype._onDragEndCallback=function(l){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:l})},n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:t.ChangeDetectorRef}]},n}(I),q=(function(l){function n(n,e,t,u,i){return l.call(this,n,e,t,u,i)||this}M(n,l),n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:N},{type:t.ChangeDetectorRef}]}}(T),this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}()),F=(function(l){function n(n,e,u,i){var o=l.call(this,n,e,u,i)||this;return o.onDropSuccess=new t.EventEmitter,o.onDragEnter=new t.EventEmitter,o.onDragOver=new t.EventEmitter,o.onDragLeave=new t.EventEmitter,o.dropEnabled=!0,o}q(n,l),Object.defineProperty(n.prototype,"droppable",{set:function(l){this.dropEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowdrop",{set:function(l){this.allowDrop=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDragOverCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDragLeaveCallback=function(l){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:l}))},n.prototype._onDropCallback=function(l){var n=l.dataTransfer;(this._dragDropService.isDragged||n&&n.files)&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:l}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:l}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))},n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:t.ChangeDetectorRef}]}}(I),this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}()),V=function(l){function n(n,e,u,i,o){var r=l.call(this,n,e,u,i)||this;return r.elemRef=n,r._sortableDataService=o,r._sortableData=[],r.onDropSuccessCallback=new t.EventEmitter,r.dragEnabled=!1,r}return F(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortableData",{get:function(){return this._sortableData},set:function(l){this._sortableData=l,this.dropEnabled=!!this._sortableData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropzones",{set:function(l){this.dropZones=l},enumerable:!0,configurable:!0}),n.prototype._onDragEnterCallback=function(l){if(this._sortableDataService.isDragged){var n=this._sortableDataService.sortableContainer._sortableData[this._sortableDataService.index];-1===this._sortableData.indexOf(n)&&(this._sortableDataService.sortableContainer._sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer._sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),console.log("=================",this._sortableData,n),this._sortableData.push(n),this._sortableDataService.sortableContainer=this,this._sortableDataService.index=this._sortableData.length-1),this.detectChanges()}},n.prototype._onDropCallback=function(l){console.log("---3-_onDropCallback--",this._elem.id),this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit({target:this._elem.id,data:this._dragDropService.dragData}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData))},n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:t.ChangeDetectorRef},{type:O}]},n}(I),j=function(l){function n(n,e,u,i,o,r){var a=l.call(this,n,e,u,r)||this;return a._sortableContainer=i,a._sortableDataService=o,a.onDragSuccessCallback=new t.EventEmitter,a.onDragStartCallback=new t.EventEmitter,a.onDragOverCallback=new t.EventEmitter,a.onDragEndCallback=new t.EventEmitter,a.onDropSuccessCallback=new t.EventEmitter,a.dropZones=a._sortableContainer.dropZones,a.dragEnabled=!0,a.dropEnabled=!0,a}return F(n,l),Object.defineProperty(n.prototype,"draggable",{set:function(l){this.dragEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"droppable",{set:function(l){this.dropEnabled=!!l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectallowed",{set:function(l){this.effectAllowed=l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectcursor",{set:function(l){this.effectCursor=l},enumerable:!0,configurable:!0}),n.prototype._onDragStartCallback=function(l){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},n.prototype._onDragOverCallback=function(l){this._sortableDataService.isDragged&&this._elem!==this._sortableDataService.elem&&(this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},n.prototype._onDragEndCallback=function(l){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableContainer=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},n.prototype._onDragEnterCallback=function(l){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableContainer.sortableData!==this._sortableContainer.sortableData)){var n=this._sortableDataService.sortableContainer.sortableData[this._sortableDataService.index];this._sortableDataService.sortableContainer.sortableData.splice(this._sortableDataService.index,1),0===this._sortableDataService.sortableContainer.sortableData.length&&(this._sortableDataService.sortableContainer.dropEnabled=!0),console.log("=================",this._sortableContainer.sortableData,this.index,n),this._sortableContainer.sortableData.splice(this.index,0,n),this._sortableDataService.sortableContainer=this._sortableContainer,this._sortableDataService.index=this.index}},n.prototype._onDropCallback=function(l){console.log("---3-_onDropCallback--",this._elem.id),this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit({target:this._elem.id,data:this._dragDropService.dragData}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:V},{type:O},{type:t.ChangeDetectorRef}]},n}(I),H=(function(l){function n(n,e,t,u,i){return l.call(this,n,e,t,u,i)||this}F(n,l),n.ctorParameters=function(){return[{type:t.ElementRef},{type:R},{type:E},{type:j},{type:t.ChangeDetectorRef}]}}(T),[E,{provide:R,useFactory:P},{provide:O,useFactory:k,deps:[E]}]),L=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:H}},l}(),$=e("5maJ"),B=e("GqZN"),A=function(){return function(){}}(),z=e("dN2u"),U=e("KBuQ"),Z=e("9GFz"),W=e("KGm0"),G=e("Mqds"),J=e("JNkf"),K=e("I00F"),Q=e("FlbK"),Y=function(){function l(l){this._reqService=l,this._apiBase="admin/issue_page/"}return l.prototype.load=function(){return this._reqService.post(this._apiBase+"load",{})},l.prototype.get=function(l){var n={id:l};return this._reqService.post(this._apiBase+"get",n)},l.prototype.getDetail=function(l){var n={id:l};return this._reqService.post(this._apiBase+"getDetail",n)},l.prototype.addTab=function(l){return this._reqService.post(this._apiBase+"addTab",l)},l.prototype.getTab=function(l){var n={id:l};return this._reqService.post(this._apiBase+"getTab",n)},l.prototype.addField=function(l){return this._reqService.post(this._apiBase+"addField",l)},l.prototype.save=function(l){return this._reqService.post(this._apiBase+"save",l)},l.prototype.delete=function(l){var n={id:l};return this._reqService.post(this._apiBase+"delete",n)},l.prototype.setDefault=function(l){var n={id:l};return this._reqService.post(this._apiBase+"setDefault",n)},l.prototype.changeOrder=function(l,n){var e={id:l,act:n};return this._reqService.post(this._apiBase+"changeOrder",e)},l.ctorParameters=function(){return[{type:Z.a}]},l}(),X=function(){function l(l){this._reqService=l,this._apiBase="admin/issue_page_tab/"}return l.prototype.add=function(l){return this._reqService.post(this._apiBase+"add",l)},l.prototype.get=function(l){var n={id:l};return this._reqService.post(this._apiBase+"get",n)},l.prototype.updateName=function(l,n){var e={id:l,name:n};return this._reqService.post(this._apiBase+"updateName",e)},l.prototype.remove=function(l,n,e){var t={id:l,pageId:n,currTabId:e};return this._reqService.post(this._apiBase+"remove",t)},l.prototype.changeOrder=function(l,n){var e={id:l,act:n};return this._reqService.post(this._apiBase+"changeOrder",e)},l.ctorParameters=function(){return[{type:Z.a}]},l}(),ll=function(){function l(l){this._reqService=l,this._apiBase="admin/issue_page_elem/"}return l.prototype.saveAll=function(l,n,e){var t={pageId:l,tabId:n,elems:e};return this._reqService.post(this._apiBase+"saveAll",t)},l.prototype.updateProp=function(l){return this._reqService.post(this._apiBase+"updateProp",l)},l.ctorParameters=function(){return[{type:Z.a}]},l}(),nl=function(){function l(l){this._reqService=l,this._apiBase="admin/issue_page_solution/"}return l.prototype.load=function(){return this._reqService.post(this._apiBase+"load",{})},l.prototype.get=function(l){var n={id:l};return this._reqService.post(this._apiBase+"get",n)},l.prototype.getConfig=function(l){var n={id:l};return this._reqService.post(this._apiBase+"getConfig",n)},l.prototype.addTab=function(l){return this._reqService.post(this._apiBase+"addTab",l)},l.prototype.getTab=function(l){var n={id:l};return this._reqService.post(this._apiBase+"getTab",n)},l.prototype.addField=function(l){return this._reqService.post(this._apiBase+"addField",l)},l.prototype.save=function(l){return this._reqService.post(this._apiBase+"save",l)},l.prototype.delete=function(l){var n={id:l};return this._reqService.post(this._apiBase+"delete",n)},l.prototype.setDefault=function(l){var n={id:l};return this._reqService.post(this._apiBase+"setDefault",n)},l.prototype.changeOrder=function(l,n){var e={id:l,act:n};return this._reqService.post(this._apiBase+"changeOrder",e)},l.ctorParameters=function(){return[{type:Z.a}]},l}(),el=e("DlWC"),tl=e("m0eP"),ul=function(){function l(){}return l.prototype.ngOnInit=function(){},l.ctorParameters=function(){return[]},l}(),il=[["[_nghost-%COMP%]     .descr{font-size:14px;line-height:30px}"]],ol=t["\u0275crt"]({encapsulation:0,styles:il,data:{}});function rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","issue-page"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](73728,null,0,r.o,[r.p,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null]],null,null),(l()(),t["\u0275ted"](null,["\n"])),(l()(),t["\u0275ted"](null,["\n"]))],null,null)}var al=t["\u0275ccf"]("issue-page",ul,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page",[],null,null,null,rl,ol)),t["\u0275did"](57344,null,0,ul,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),sl=e("PGi5"),dl=e("fc+i"),cl=e("ZV8k"),pl=e("oRYE"),gl=e("kUuJ"),fl=function(){function l(l,n,e,t,u){this._routeService=l,this._state=n,this.fb=e,this.el=t,this.issuePageService=u,this.contentHeight=gl.b.getContainerHeight(pl.a.HEAD_HEIGHT+pl.a.FOOTER_HEIGHT)}return l.prototype.ngOnInit=function(){this.loadData()},l.prototype.ngAfterViewInit=function(){},l.prototype.editPage=function(l){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-edit/"+(l?l.id:null))},l.prototype.configPage=function(l){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-config/"+l.id)},l.prototype.loadData=function(){var l=this;this.issuePageService.load().subscribe(function(n){l.pages=n.pages})},l.ctorParameters=function(){return[{type:U.a},{type:cl.a},{type:o.e},{type:t.ElementRef},{type:Y}]},l}(),hl=[[".issue-page-list{padding:10px 15px}"]],vl=t["\u0275crt"]({encapsulation:2,styles:hl,data:{}});function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["class","link no-underline"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.editPage(l.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u7f16\u8f91"])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["class","link no-underline"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.configPage(l.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u914d\u7f6e"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n      "]))],null,function(l,n){l(n,3,0,n.context.$implicit.name)})}function ml(l){return t["\u0275vid"](0,[t["\u0275pid"](0,sl.c,[dl.c]),(l()(),t["\u0275eld"](0,null,null,65,"div",[["class","issue-page-list"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,14,"div",[["class","list-toolbar with-descr col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        \u95ee\u9898\u754c\u9762\n      "])),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-primary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.editPage(null)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u65b0\u5efa\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,19,"div",[["class","descr no-span"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u8bbe\u7f6e"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],[[8,"outerHTML",1]],null,null,null,null)),t["\u0275ppd"](1),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u6240\u5305\u542b\u7684\u5b57\u6bb5\u53ca\u5c5e\u6027\u3002\u5176\u53ef\u5173\u8054\u5230"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],[[8,"outerHTML",1]],null,null,null,null)),t["\u0275ppd"](1),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\uff0c\u6216\u5728"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],[[8,"outerHTML",1]],null,null,null,null)),t["\u0275ppd"](1),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u7684\u72b6\u6001\u8f6c\u6362\u4e2d\u88ab\u5f15\u7528\u3002"])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,22,"div",[["class","page-list"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,19,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,10,"thead",[["class","thead-inverse"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u540d\u79f0"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u64cd\u4f5c"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275and"](8388608,null,null,1,null,_l)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n"])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){l(n,62,0,n.component.pages)},function(l,n){l(n,26,0,t["\u0275unv"](n,26,0,l(n,27,0,t["\u0275nov"](n,0),"\u754c\u9762"))),l(n,31,0,t["\u0275unv"](n,31,0,l(n,32,0,t["\u0275nov"](n,0),"\u754c\u9762\u65b9\u6848"))),l(n,36,0,t["\u0275unv"](n,36,0,l(n,37,0,t["\u0275nov"](n,0),"\u5de5\u4f5c\u6d41")))})}var bl=t["\u0275ccf"]("issue-page-list",fl,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-list",[],null,null,null,ml,vl)),t["\u0275did"](2154496,null,0,fl,[U.a,cl.a,o.e,t.ElementRef,Y],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Dl=e("MLm0"),yl=function(){function l(l,n,e,t,u){this._state=l,this._routeService=n,this._route=e,this.fb=t,this.issuePageService=u,this.page={tabs:[]},this.formErrors=[],this.validateMsg={name:{required:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}}}return l.prototype.ngOnInit=function(){var l=this;this._route.params.forEach(function(n){l.id=+n.id}),this.loadData(),this.buildForm()},l.prototype.ngAfterViewInit=function(){},l.prototype.buildForm=function(){var l=this;this.form=this.fb.group({name:["",[o.u.required]]},{}),this.form.valueChanges.debounceTime(pl.a.DebounceTime).subscribe(function(n){return l.onValueChanged(n)}),this.onValueChanged()},l.prototype.onValueChanged=function(l){this.formErrors=Dl.d.genMsg(this.form,this.validateMsg,[])},l.prototype.loadData=function(){var l=this;this.issuePageService.get(this.id).subscribe(function(n){l.page=n.page})},l.prototype.save=function(){var l=this;this.issuePageService.save(this.page).subscribe(function(n){1==n.code?(l.page=n.page,l.formErrors=["\u4fdd\u5b58\u6210\u529f"],l.back()):l.formErrors=[n.msg]})},l.prototype.back=function(){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-list")},l.prototype.delete=function(){var l=this,n=this;n.issuePageService.delete(n.page.id).subscribe(function(e){1==e.code?(n.formErrors=["\u5220\u9664\u6210\u529f"],l.modalWrapper.closeModal(),l.back()):n.formErrors=["\u5220\u9664\u5931\u8d25"]})},l.prototype.showModal=function(){this.modalWrapper.showModal()},l.ctorParameters=function(){return[{type:cl.a},{type:U.a},{type:r.a},{type:o.e},{type:Y}]},l}(),Sl=e("CIDy"),Cl=e("a5lJ"),wl=[[".issue-page-edit{padding:15px}"]],El=t["\u0275crt"]({encapsulation:2,styles:wl,data:{}});function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u65b0\u5efa\u754c\u9762"]))],null,null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u7f16\u8f91\u754c\u9762"]))],null,null)}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.showModal()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u5220\u9664"]))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n          "]))],null,function(l,n){l(n,3,0,n.context.$implicit)})}function Ol(l){return t["\u0275vid"](0,[t["\u0275qud"](201326592,1,{modalWrapper:0}),(l()(),t["\u0275eld"](0,null,null,81,"div",[["class","issue-page-edit container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,18,"div",[["class","edit-toolbar col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Pl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Rl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm back"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-arrow-circle-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u8fd4\u56de\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,53,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;"submit"===n&&(u=!1!==t["\u0275nov"](l,30).onSubmit(e)&&u);"reset"===n&&(u=!1!==t["\u0275nov"](l,30).onReset()&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.x,[],null,null),t["\u0275did"](270336,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](1024,null,o.c,null,[o.h]),t["\u0275did"](8192,null,0,o.o,[o.c],null,null),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,10,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.save()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u4fdd\u5b58"])),(l()(),t["\u0275ted"](null,["\n        \xa0\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u53d6\u6d88"])),(l()(),t["\u0275ted"](null,["\n        \xa0\xa0\xa0\xa0\xa0\xa0\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,kl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,2,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u540d\u79f0"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,[["name",1]],null,5,"input",[["class","form-control"],["formControlName","name"],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,i=l.component;"input"===n&&(u=!1!==t["\u0275nov"](l,60)._handleInput(e.target.value)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,60).onTouched()&&u);"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,60)._compositionStart()&&u);"compositionend"===n&&(u=!1!==t["\u0275nov"](l,60)._compositionEnd(e.target.value)&&u);"ngModelChange"===n&&(u=!1!==(i.page.name=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.d,[t.Renderer,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.d]),t["\u0275did"](335872,null,0,o.g,[[3,o.c],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.g]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275and"](8388608,null,null,1,null,xl)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275eld"](0,null,null,2,"pop-dialog",[],null,[[null,"confirm"]],function(l,n,e){var t=!0,u=l.component;"confirm"===n&&(t=!1!==u.delete()&&t);return t},Sl.b,Sl.a)),t["\u0275did"](2154496,[[1,4],["modalWrapper",4]],0,Cl.a,[cl.a,z.a,t.Injector],{title:[0,"title"]},{confirm:"confirm"}),(l()(),t["\u0275ted"](0,['\n  \u786e\u8ba4\u5220\u9664\u540d\u4e3a"','"\u7684\u754c\u9762?\n'])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,10,0,!(null!=e.page&&e.page.id)),l(n,13,0,null==e.page?null:e.page.id),l(n,30,0,e.form),l(n,47,0,e.page.id);l(n,62,0,"name",e.page.name),l(n,77,0,e.formErrors);l(n,85,0,"\u63d0\u793a")},function(l,n){var e=n.component;l(n,28,0,t["\u0275nov"](n,32).ngClassUntouched,t["\u0275nov"](n,32).ngClassTouched,t["\u0275nov"](n,32).ngClassPristine,t["\u0275nov"](n,32).ngClassDirty,t["\u0275nov"](n,32).ngClassValid,t["\u0275nov"](n,32).ngClassInvalid,t["\u0275nov"](n,32).ngClassPending),l(n,40,0,!e.form.valid),l(n,59,0,t["\u0275nov"](n,64).ngClassUntouched,t["\u0275nov"](n,64).ngClassTouched,t["\u0275nov"](n,64).ngClassPristine,t["\u0275nov"](n,64).ngClassDirty,t["\u0275nov"](n,64).ngClassValid,t["\u0275nov"](n,64).ngClassInvalid,t["\u0275nov"](n,64).ngClassPending),l(n,86,0,e.page.name)})}var Il=t["\u0275ccf"]("issue-page-edit",yl,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-edit",[],null,null,null,Ol,El)),t["\u0275did"](2154496,null,0,yl,[cl.a,U.a,r.a,o.e,Y],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Tl=e("fxWY"),Ml=e("Qyse"),Nl=function(){function l(){this.forSelection=!1,this.propEvent=new t.EventEmitter,this.labelColNum=4}return l.prototype.ngOnChanges=function(l){},l.prototype.ngOnInit=function(){},l.prototype.getCol=function(){return this.forSelection?this.labelColNum=3:this.field.fullLine?this.labelColNum=2:this.labelColNum=4,this.labelColNum},l.prototype.set=function(l,n){console.log("setFullLine",l,n),this.propEvent.emit({id:this.field.id,prop:l,val:n})},l.ctorParameters=function(){return[]},l}(),ql=[[".issue-input[_ngcontent-%COMP%]{padding:5px}.issue-input[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;text-align:right}.issue-input[_ngcontent-%COMP%]   .col-form-label.in-page[_ngcontent-%COMP%]{padding:6px 0 0 0}.issue-input[_ngcontent-%COMP%]   .col-form-label.in-selection[_ngcontent-%COMP%]{padding:0;line-height:38px}.issue-input[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]   .require[_ngcontent-%COMP%]{line-height:23px;color:red}.issue-input[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:3px;border:none;outline:none;box-shadow:none}.issue-input[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{padding:5px}.issue-input[_ngcontent-%COMP%]   .col-form-label[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{margin:5px}.issue-input[_ngcontent-%COMP%]   .readonly[_ngcontent-%COMP%]{line-height:36px}.issue-input[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:0}"]],Fl=t["\u0275crt"]({encapsulation:0,styles:ql,data:{}});function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"label",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t["\u0275inlineInterpolate"](1,"in-selection col-form-label col-sm-",e.getCol(),"")),l(n,1,0,e.field.label)})}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"div",[["class","require"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["*"]))],null,null)}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,57,"label",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,54,"div",[["class","btn-group"],["ngbDropdown",""]],[[2,"show",null]],[[null,"keyup.esc"],["document","click"]],function(l,n,e){var u=!0;"keyup.esc"===n&&(u=!1!==t["\u0275nov"](l,3).closeFromOutsideEsc()&&u);"document:click"===n&&(u=!1!==t["\u0275nov"](l,3).closeFromClick(e)&&u);return u},null,null)),t["\u0275did"](106496,[["projectDropdown",4]],2,Tl.a,[Ml.a,t.NgZone],{autoClose:[0,"autoClose"]},null),t["\u0275qud"](167772160,1,{_menu:0}),t["\u0275qud"](167772160,2,{_toggle:0}),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,jl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275eld"](0,null,null,2,"button",[["aria-haspopup","true"],["class","btn btn-default dropdown dropdown-toggle"],["id","conditionDropdownMenu"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;"click"===n&&(u=!1!==t["\u0275nov"](l,11).toggleOpen()&&u);return u},null,null)),t["\u0275did"](8192,[[2,4]],0,Tl.c,[Tl.a,t.ElementRef],null,null),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,41,"div",[["aria-labelledby","conditionDropdownMenu"],["class","dropdown-menu"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null]],null,null,null,null)),t["\u0275did"](8192,[[1,4]],0,Tl.b,[Tl.a,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,11,"button",[["class","dropdown-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u6cbe\u6ee1\u6574\u884c"])),(l()(),t["\u0275ted"](null,[" "])),(l()(),t["\u0275eld"](0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(l,n,e){var u=!0,i=l.component;"change"===n&&(u=!1!==t["\u0275nov"](l,23).onChange(e.target.checked)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,23).onTouched()&&u);"change"===n&&(u=!1!==i.set("fullLine",i.field.fullLine)&&u);"ngModelChange"===n&&(u=!1!==(i.field.fullLine=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.b,[t.Renderer,t.ElementRef],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.b]),t["\u0275did"](335872,null,0,o.q,[[8,null],[8,null],[8,null],[2,o.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.q]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,11,"button",[["class","dropdown-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u662f\u5426\u5fc5\u586b"])),(l()(),t["\u0275ted"](null,[" "])),(l()(),t["\u0275eld"](0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(l,n,e){var u=!0,i=l.component;"change"===n&&(u=!1!==t["\u0275nov"](l,36).onChange(e.target.checked)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,36).onTouched()&&u);"change"===n&&(u=!1!==i.set("required",i.field.required)&&u);"ngModelChange"===n&&(u=!1!==(i.field.required=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.b,[t.Renderer,t.ElementRef],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.b]),t["\u0275did"](335872,null,0,o.q,[[8,null],[8,null],[8,null],[2,o.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.q]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,11,"button",[["class","dropdown-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,1,"a",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u662f\u5426\u53ea\u8bfb"])),(l()(),t["\u0275ted"](null,[" "])),(l()(),t["\u0275eld"](0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(l,n,e){var u=!0,i=l.component;"change"===n&&(u=!1!==t["\u0275nov"](l,49).onChange(e.target.checked)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,49).onTouched()&&u);"change"===n&&(u=!1!==i.set("readonly",i.field.readonly)&&u);"ngModelChange"===n&&(u=!1!==(i.field.readonly=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.b,[t.Renderer,t.ElementRef],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.b]),t["\u0275did"](335872,null,0,o.q,[[8,null],[8,null],[8,null],[2,o.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.q]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "]))],function(l,n){var e=n.component;l(n,3,0,"outside"),l(n,8,0,e.field.required),l(n,25,0,e.field.fullLine),l(n,38,0,e.field.required),l(n,51,0,e.field.readonly)},function(l,n){var e=n.component;l(n,0,0,t["\u0275inlineInterpolate"](1,"in-page col-form-label col-sm-",e.getCol(),"")),l(n,2,0,t["\u0275nov"](n,3).isOpen()),l(n,10,0,t["\u0275nov"](n,11).dropdown.isOpen()),l(n,12,0,e.field.label);l(n,14,0,!0,t["\u0275nov"](n,15).dropdown.isOpen()),l(n,22,0,t["\u0275nov"](n,27).ngClassUntouched,t["\u0275nov"](n,27).ngClassTouched,t["\u0275nov"](n,27).ngClassPristine,t["\u0275nov"](n,27).ngClassDirty,t["\u0275nov"](n,27).ngClassValid,t["\u0275nov"](n,27).ngClassInvalid,t["\u0275nov"](n,27).ngClassPending),l(n,35,0,t["\u0275nov"](n,40).ngClassUntouched,t["\u0275nov"](n,40).ngClassTouched,t["\u0275nov"](n,40).ngClassPristine,t["\u0275nov"](n,40).ngClassDirty,t["\u0275nov"](n,40).ngClassValid,t["\u0275nov"](n,40).ngClassInvalid,t["\u0275nov"](n,40).ngClassPending),l(n,48,0,t["\u0275nov"](n,53).ngClassUntouched,t["\u0275nov"](n,53).ngClassTouched,t["\u0275nov"](n,53).ngClassPristine,t["\u0275nov"](n,53).ngClassDirty,t["\u0275nov"](n,53).ngClassValid,t["\u0275nov"](n,53).ngClassInvalid,t["\u0275nov"](n,53).ngClassPending)})}function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"textarea",[["class","form-control"],["type","text"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "]))],null,function(l,n){l(n,2,0,n.component.field.readonly)})}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,9,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,6,"select",[["class","form-control"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](73728,null,0,o.r,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),t["\u0275did"](73728,null,0,o.z,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e00"])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "]))],function(l,n){l(n,5,0,"");l(n,6,0,"")},function(l,n){l(n,2,0,n.component.field.readonly)})}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,5,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-check-input"],["name","issue-input"],["type","radio"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e00\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-check-input"],["name","issue-input"],["type","radio"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e8c\n        "]))],null,function(l,n){var e=n.component;l(n,2,0,e.field.readonly),l(n,4,0,e.field.readonly)})}function Al(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,5,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-check-input"],["name","issue-input"],["type","radio"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e00\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-check-input"],["name","issue-input"],["type","radio"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e8c\n        "]))],null,function(l,n){var e=n.component;l(n,2,0,e.field.readonly),l(n,4,0,e.field.readonly)})}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,19,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,16,"select",[["class","form-control"],["multiple",""]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](73728,null,0,o.r,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),t["\u0275did"](73728,null,0,o.z,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e00"])),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](73728,null,0,o.r,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),t["\u0275did"](73728,null,0,o.z,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e8c"])),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](73728,null,0,o.r,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),t["\u0275did"](73728,null,0,o.z,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](null,["\u9009\u9879\u4e09"])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "]))],function(l,n){l(n,5,0,"");l(n,6,0,"");l(n,10,0,"");l(n,11,0,"");l(n,15,0,"");l(n,16,0,"")},function(l,n){l(n,2,0,n.component.field.readonly)})}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,11,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-control"],["placeholder","yyyy-mm-dd"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,3,"div",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "]))],null,function(l,n){l(n,4,0,n.component.field.readonly)})}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"input",[["class","form-control"],["type","text"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "]))],null,function(l,n){l(n,2,0,n.component.field.readonly)})}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,39,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](0,null,null,36,"div",[["class","row issue-input"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Vl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Hl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,26,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,23,null,null,null,null,null,null,null)),t["\u0275did"](8192,null,0,i.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Ll)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,$l)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Bl)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Al)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,zl)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Ul)),t["\u0275did"](139264,null,0,i.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Zl)),t["\u0275did"](8192,null,0,i.NgSwitchDefault,[t.ViewContainerRef,t.TemplateRef,i.NgSwitch],null,null),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,5,0,e.forSelection),l(n,8,0,!e.forSelection),l(n,14,0,e.field.input);l(n,17,0,"textarea");l(n,20,0,"dropdown");l(n,23,0,"radio");l(n,26,0,"checkbox");l(n,29,0,"multi_select");l(n,32,0,"date")},function(l,n){var e=n.component;l(n,11,0,t["\u0275inlineInterpolate"](1,"controls col-sm-",12-e.labelColNum,""))})}t["\u0275ccf"]("issue-input",Nl,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-input",[],null,null,null,Wl,Fl)),t["\u0275did"](319488,null,0,Nl,[],null,null)],function(l,n){l(n,1,0)},null)},{field:"field",forSelection:"forSelection"},{propEvent:"propEvent"},[]);var Gl=function(){function l(l,n,e,t,u,i,o,r){this.elementRef=l,this._state=n,this.fb=e,this._routeService=t,this._route=u,this.pageService=i,this.tabService=o,this.elemService=r,this.page={tabs:[]},this.fields=[],this.tab={},this.contentHeight=gl.b.getContainerHeight(pl.a.HEAD_HEIGHT+pl.a.FOOTER_HEIGHT+70),this.formErrors=[],this.validateMsg={}}return l.prototype.ngOnInit=function(){var l=this;this._route.params.forEach(function(n){l.id=+n.id}),this.loadData(),this.buildForm()},l.prototype.ngAfterViewInit=function(){},l.prototype.buildForm=function(){var l=this;this.form=this.fb.group({field:["",[]]},{}),this.form.valueChanges.debounceTime(pl.a.DebounceTime).subscribe(function(n){return l.onValueChanged(n)}),this.onValueChanged()},l.prototype.onValueChanged=function(l){this.formErrors=Dl.d.genMsg(this.form,this.validateMsg,[])},l.prototype.loadData=function(){var l=this;this.pageService.getDetail(this.id).subscribe(function(n){l.page=n.page,l.tab=l.page.tabs[0],l.fields=n.fields})},l.prototype.save=function(){var l=this;this.pageService.save(this.page).subscribe(function(n){1==n.code?(l.page=n.page,l.tab=l.page.tabs[0],l.fields=n.fields,l.formErrors=["\u4fdd\u5b58\u6210\u529f"]):l.formErrors=[n.msg]})},l.prototype.back=function(){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-list")},l.prototype.delete=function(){var l=this;this.pageService.delete(this.page.id).subscribe(function(n){1==n.code?(l.formErrors=["\u5220\u9664\u6210\u529f"],l.modalWrapper.closeModal(),l.back()):l.formErrors=["\u5220\u9664\u5931\u8d25"]})},l.prototype.selectTab=function(l,n){var e=this;console.log("selectTab",n),l.preventDefault(),this.tabService.get(n.id).subscribe(function(l){e.tab=l.tab,e.fields=l.fields}),this.formErrors=[]},l.prototype.addTab=function(){var l=this,n={name:"\u65b0\u6807\u7b7e",pageId:this.page.id};this.tabService.add(n).subscribe(function(n){l.tab=n.tab,l.fields=n.fields,l.page.tabs.push(l.tab)}),this.formErrors=[]},l.prototype.editTab=function(l,n){console.log("editTab",n),n.oldName=n.name,n.editing=!0,this.formErrors=[],l.stopPropagation()},l.prototype.removeTab=function(l,n){var e=this;console.log("removeTab",n),this.tabService.remove(n.id,n.pageId,this.tab.id).subscribe(function(l){1==l.code?(e.page=l.page,e.tab.id==n.id?(e.tab=e.page.tabs[0],e.fields=l.fields):e.tab=e.page.tabs.filter(function(l){return l.id==e.tab.id})[0]):e.formErrors=[l.msg]})},l.prototype.updateTabName=function(l,n){l.stopPropagation(),console.log("saveTabName",n),n.editing=!1,this.tabService.updateName(n.id,n.name).subscribe(function(l){n.editing=!1})},l.prototype.cancelTabName=function(l,n){console.log("cancelTabName",n),n.name=n.oldName,n.editing=!1,l.stopPropagation()},l.prototype.onTabDropSuccess=function(l){console.log("onTabDropSuccess",l)},l.prototype.onElementDropSuccess=function(l){var n=this;console.log("onFieldDropSuccess",l);var e=this.tab.elements.map(function(l){return{id:l.id,key:l.key}});this.elemService.saveAll(this.page.id,this.tab.id,e).subscribe(function(l){n.tab=l.tab,n.fields=l.fields}),this.formErrors=[]},l.prototype.setProp=function(l){console.log("$event",l),this.elemService.updateProp(l).subscribe(function(l){}),this.formErrors=[]},l.prototype.showModal=function(l){this.modalWrapper.showModal()},l.ctorParameters=function(){return[{type:t.ElementRef},{type:cl.a},{type:o.e},{type:U.a},{type:r.a},{type:Y},{type:X},{type:ll}]},l}(),Jl=[[".issue-page-config{padding:15px}.issue-page-config .main,.issue-page-config .main .left{display:-ms-flexbox;display:flex}.issue-page-config .main .left{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.issue-page-config .main .left .left-top .field-selection{position:absolute;top:0;right:15px}.issue-page-config .main .left .left-top .field-selection .link{margin:0}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row{display:-ms-flexbox;display:flex;width:100%}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .move{width:16px;cursor:pointer}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .edit,.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .text{-ms-flex:1;flex:1;margin:0 5px}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .edit input{padding:3px;width:80px;height:30px;border:0;background-color:ivory;outline:none}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .opt{width:16px;cursor:pointer}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .my-row .opt.editing{width:48px}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .nav-link{padding:2px 7px;line-height:30px}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .nav-link.active{cursor:default}.issue-page-config .main .left .left-top .tabs .nav-tabs .nav-item .nav-link.active .act{display:inline-block;margin:0;cursor:pointer}.issue-page-config .main .left .left-main{-ms-flex:1;flex:1}.issue-page-config .main .left .left-main .elements{padding-top:15px}.issue-page-config .main .left .left-main .elements .element{float:left;width:50%}.issue-page-config .main .left .left-main .elements .element.full-line{width:100%}.issue-page-config .main .left .left-main .no-elems{width:100px;margin:auto}.issue-page-config .main .right{width:320px;overflow:auto}.issue-page-config .main .right .field-row{margin:8px}"]],Kl=t["\u0275crt"]({encapsulation:2,styles:Jl,data:{}});function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-arrows"]],null,null,null,null,null))],null,null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        ","\n                      "]))],null,function(l,n){l(n,1,0,n.parent.parent.context.$implicit.name)})}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-pencil"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.editTab(e,l.parent.parent.context.$implicit)&&t);return t},null,null))],null,null)}function ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,16,"div",[["class","my-row nav-link"]],[[2,"active",null]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.selectTab(e,l.parent.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","move"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Ql)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Yl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","opt"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Xl)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275ted"](null,["\n                    "]))],function(l,n){l(n,5,0,n.parent.context.$implicit.hover),l(n,9,0,!n.parent.context.$implicit.editing),l(n,14,0,n.parent.context.$implicit.hover)},function(l,n){l(n,0,0,n.component.tab.id==n.parent.context.$implicit.id)})}function nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,3,"span",[["title","\u4fdd\u5b58"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.updateTabName(e,l.parent.parent.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n                          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "]))],null,null)}function en(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,30,"div",[["class","my-row nav-link"]],[[2,"active",null]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","edit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275eld"](0,null,null,12,"form",[["ngForm",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;"submit"===n&&(u=!1!==t["\u0275nov"](l,6).onSubmit(e)&&u);"reset"===n&&(u=!1!==t["\u0275nov"](l,6).onReset()&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.x,[],null,null),t["\u0275did"](8192,null,0,o.p,[[8,null],[8,null]],null,null),t["\u0275prd"](1024,null,o.c,null,[o.p]),t["\u0275did"](8192,null,0,o.o,[o.c],null,null),(l()(),t["\u0275ted"](null,["\n                          "])),(l()(),t["\u0275eld"](0,null,null,5,"input",[["name","tabName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,i=l.component;"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u);"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u);"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u);"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.name=e)&&u);"click"===n&&(u=!1!==e.stopPropagation()&&u);"keydown.enter"===n&&(u=!1!==i.save(e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.d,[t.Renderer,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.d]),t["\u0275did"](335872,null,0,o.q,[[2,o.c],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.q]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275eld"](0,null,null,10,"div",[["class","opt editing"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,nn)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["title","\u53d6\u6d88"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.cancelTabName(e,l.parent.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["title","\u5220\u9664"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.removeTab(e,l.parent.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                      "])),(l()(),t["\u0275ted"](null,["\n                    "]))],function(l,n){l(n,13,0,"tabName",n.parent.context.$implicit.name),l(n,22,0,n.parent.context.$implicit.name)},function(l,n){l(n,0,0,n.component.tab.id==n.parent.context.$implicit.id),l(n,4,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,10,0,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending)})}function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,8,"li",[["class","nav-item"],["dnd-sortable",""]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;"mouseenter"===n&&(t=!1!==(l.context.$implicit.hover=!0)&&t);"mouseleave"===n&&(t=!1!==(l.context.$implicit.hover=!1)&&t);"onDropSuccess"===n&&(t=!1!==u.onTabDropSuccess(l.context.$implicit)&&t);return t},null,null)),t["\u0275did"](8192,null,0,j,[t.ElementRef,R,E,V,O,t.ChangeDetectorRef],{index:[0,"index"]},{onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275ted"](null,["\n\n                    "])),(l()(),t["\u0275and"](8388608,null,null,1,null,ln)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n\n                    "])),(l()(),t["\u0275and"](8388608,null,null,1,null,en)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n                  "]))],function(l,n){l(n,1,0,n.context.index),l(n,4,0,!n.context.$implicit.editing),l(n,7,0,n.context.$implicit.editing)},null)}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,5,"div",[["class","element"],["dnd-sortable",""]],[[8,"id",0],[2,"full-line",null]],[[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;"onDropSuccess"===n&&(t=!1!==u.onElementDropSuccess(e)&&t);return t},null,null)),t["\u0275did"](8192,null,0,j,[t.ElementRef,R,E,V,O,t.ChangeDetectorRef],{index:[0,"index"],dragData:[1,"dragData"]},{onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275eld"](0,null,null,1,"issue-input",[],null,[[null,"propEvent"]],function(l,n,e){var t=!0,u=l.component;"propEvent"===n&&(t=!1!==u.setProp(e)&&t);return t},Wl,Fl)),t["\u0275did"](319488,null,0,Nl,[],{field:[0,"field"]},{propEvent:"propEvent"}),(l()(),t["\u0275ted"](null,["\n            "]))],function(l,n){l(n,1,0,n.context.index,n.context.$implicit),l(n,4,0,n.context.$implicit)},function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"sortable-left-",n.context.$implicit.id,""),n.context.$implicit.fullLine)})}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"div",[["class","no-elems"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n              \u62d6\u52a8\u5b57\u6bb5\u5230\u6b64\u5904\n            "]))],null,null)}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,5,"div",[["class","field-row"],["dnd-sortable",""]],[[8,"id",0]],[[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;"onDropSuccess"===n&&(t=!1!==u.onElementDropSuccess(e)&&t);return t},null,null)),t["\u0275did"](8192,null,0,j,[t.ElementRef,R,E,V,O,t.ChangeDetectorRef],{index:[0,"index"],dragData:[1,"dragData"]},{onDropSuccessCallback:"onDropSuccess"}),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"issue-input",[],null,null,null,Wl,Fl)),t["\u0275did"](319488,null,0,Nl,[],{field:[0,"field"],forSelection:[1,"forSelection"]},null),(l()(),t["\u0275ted"](null,["\n      "]))],function(l,n){l(n,1,0,n.context.index,n.context.$implicit);l(n,4,0,n.context.$implicit,!0)},function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"sortable-right-",n.context.$implicit.id,""))})}function an(l){return t["\u0275vid"](0,[t["\u0275qud"](201326592,1,{modalWrapper:0}),t["\u0275qud"](201326592,2,{tabset:0}),(l()(),t["\u0275eld"](0,null,null,81,"div",[["class","issue-page-config container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","edit-toolbar col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u914d\u7f6e\u754c\u9762 - ",""])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm back"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-arrow-circle-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u8fd4\u56de\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,52,"div",[["class","main"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,41,"div",[["class","left"]],[[4,"height",null]],null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275eld"](0,null,null,24,"div",[["class","left-top row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,21,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,12,"div",[["class","tabs-container light"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275eld"](0,null,null,9,"div",[["class","tabs"],["dnd-sortable-container",""]],null,null,null,null,null)),t["\u0275did"](8192,null,0,V,[t.ElementRef,R,E,t.ChangeDetectorRef,O],{sortableData:[0,"sortableData"],dropzones:[1,"dropzones"]},null),t["\u0275pad"](1),(l()(),t["\u0275ted"](null,["\n                "])),(l()(),t["\u0275eld"](0,null,null,4,"ul",[["class","nav nav-tabs justify-content-start"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n                  "])),(l()(),t["\u0275and"](8388608,null,null,1,null,tn)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n                "])),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275ted"](null,["\n\n            "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","field-selection"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275eld"](0,null,null,1,"i",[["class","fa fa-plus-circle link text-in-row"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.addTab()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\xa0\u65b0\u589e"])),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275ted"](null,["\n\n        "])),(l()(),t["\u0275eld"](0,null,null,12,"div",[["class","left-main form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,9,"div",[["class","col-sm-12 elements"],["dnd-sortable-container",""],["id","sortable-container-left"]],[[8,"draggable",0]],[[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;"onDropSuccess"===n&&(t=!1!==u.onElementDropSuccess(e)&&t);return t},null,null)),t["\u0275did"](8192,null,0,V,[t.ElementRef,R,E,t.ChangeDetectorRef,O],{sortableData:[0,"sortableData"],dropzones:[1,"dropzones"]},{onDropSuccessCallback:"onDropSuccess"}),t["\u0275pad"](1),(l()(),t["\u0275ted"](null,["\n\n            "])),(l()(),t["\u0275and"](8388608,null,null,1,null,un)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n\n            "])),(l()(),t["\u0275and"](8388608,null,null,1,null,on)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","right"],["dnd-sortable-container",""],["id","sortable-container-right"]],[[4,"height",null],[8,"draggable",0]],[[null,"onDropSuccess"]],function(l,n,e){var t=!0,u=l.component;"onDropSuccess"===n&&(t=!1!==u.onElementDropSuccess(e)&&t);return t},null,null)),t["\u0275did"](8192,null,0,V,[t.ElementRef,R,E,t.ChangeDetectorRef,O],{sortableData:[0,"sortableData"],dropzones:[1,"dropzones"]},{onDropSuccessCallback:"onDropSuccess"}),t["\u0275pad"](1),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275and"](8388608,null,null,1,null,rn)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,2,"pop-dialog",[],null,[[null,"confirm"]],function(l,n,e){var t=!0,u=l.component;"confirm"===n&&(t=!1!==u.delete()&&t);return t},Sl.b,Sl.a)),t["\u0275did"](2154496,[[1,4],["modalWrapper",4]],0,Cl.a,[cl.a,z.a,t.Injector],{title:[0,"title"]},{confirm:"confirm"}),(l()(),t["\u0275ted"](0,['\n    \u786e\u8ba4\u5220\u9664\u540d\u4e3a"','"\u7684\u7528\u4f8b\u7c7b\u578b?\n  '])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,37,0,e.page.tabs,l(n,38,0,"tab-dropZone")),l(n,43,0,e.page.tabs),l(n,59,0,e.tab.elements,l(n,60,0,"fields-zone")),l(n,63,0,e.tab.elements),l(n,66,0,!e.tab||!e.tab.elements||0==e.tab.elements.length),l(n,72,0,e.fields,l(n,73,0,"fields-zone")),l(n,76,0,e.fields);l(n,81,0,"\u63d0\u793a")},function(l,n){var e=n.component;l(n,11,0,e.page.name),l(n,28,0,e.contentHeight);l(n,58,0,!1);l(n,71,0,e.contentHeight,!1),l(n,82,0,e.page.label)})}var sn=t["\u0275ccf"]("issue-page-config",Gl,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-config",[],null,null,null,an,Kl)),t["\u0275did"](2154496,null,0,Gl,[t.ElementRef,cl.a,o.e,U.a,r.a,Y,X,ll],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),dn=function(){function l(l,n,e,t,u){this._routeService=l,this._state=n,this.fb=e,this.el=t,this.solutionService=u,this.contentHeight=gl.b.getContainerHeight(pl.a.HEAD_HEIGHT+pl.a.FOOTER_HEIGHT)}return l.prototype.ngOnInit=function(){this.loadData()},l.prototype.ngAfterViewInit=function(){},l.prototype.editSolution=function(l){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-solution-edit/"+(l?l.id:null))},l.prototype.configSolution=function(l){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-solution-config/"+l.id)},l.prototype.loadData=function(){var l=this;this.solutionService.load().subscribe(function(n){l.solutions=n.solutions})},l.ctorParameters=function(){return[{type:U.a},{type:cl.a},{type:o.e},{type:t.ElementRef},{type:nl}]},l}(),cn=[[".issue-page-solution-list{padding:10px 15px}"]],pn=t["\u0275crt"]({encapsulation:2,styles:cn,data:{}});function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["class","link no-underline"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.editSolution(l.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u7f16\u8f91"])),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[["class","link no-underline"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.configSolution(l.context.$implicit)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u914d\u7f6e"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n      "]))],null,function(l,n){l(n,3,0,n.context.$implicit.name)})}function fn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,sl.c,[dl.c]),(l()(),t["\u0275eld"](0,null,null,60,"div",[["class","issue-page-solution-list"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,14,"div",[["class","list-toolbar with-descr col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        \u95ee\u9898\u754c\u9762\u65b9\u6848\n      "])),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-primary btn-with-icon btn-sm"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.editSolution(null)&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-plus-circle"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u65b0\u5efa\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,14,"div",[["class","descr no-span"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u5173\u8054"])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],[[8,"outerHTML",1]],null,null,null,null)),t["\u0275ppd"](1),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u5230\u6307\u5b9a"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],[[8,"outerHTML",1]],null,null,null,null)),t["\u0275ppd"](1),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u7684\u521b\u5efa\u3001\u7f16\u8f91\u3001\u67e5\u770b\u64cd\u4f5c\u3002\u53ef\u5728\u9879\u76ee\u914d\u7f6e\u9875\u5f15\u7528\u3002"])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,22,"div",[["class","page-list"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,19,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,10,"thead",[["class","thead-inverse"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u540d\u79f0"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u64cd\u4f5c"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275and"](8388608,null,null,1,null,gn)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){l(n,57,0,n.component.solutions)},function(l,n){l(n,25,0,t["\u0275unv"](n,25,0,l(n,26,0,t["\u0275nov"](n,0),"\u754c\u9762"))),l(n,30,0,t["\u0275unv"](n,30,0,l(n,31,0,t["\u0275nov"](n,0),"\u95ee\u9898\u7c7b\u578b")))})}var hn=t["\u0275ccf"]("issue-page-solution-list",dn,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-solution-list",[],null,null,null,fn,pn)),t["\u0275did"](2154496,null,0,dn,[U.a,cl.a,o.e,t.ElementRef,nl],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),vn=function(){function l(l,n,e,t,u){this._state=l,this._routeService=n,this._route=e,this.fb=t,this.solutionService=u,this.solution={tabs:[]},this.formErrors=[],this.validateMsg={name:{required:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}}}return l.prototype.ngOnInit=function(){var l=this;this._route.params.forEach(function(n){l.id=+n.id}),this.loadData(),this.buildForm()},l.prototype.ngAfterViewInit=function(){},l.prototype.buildForm=function(){var l=this;this.form=this.fb.group({name:["",[o.u.required]]},{}),this.form.valueChanges.debounceTime(pl.a.DebounceTime).subscribe(function(n){return l.onValueChanged(n)}),this.onValueChanged()},l.prototype.onValueChanged=function(l){this.formErrors=Dl.d.genMsg(this.form,this.validateMsg,[])},l.prototype.loadData=function(){var l=this;this.solutionService.get(this.id).subscribe(function(n){l.solution=n.solution})},l.prototype.save=function(){var l=this;this.solutionService.save(this.solution).subscribe(function(n){1==n.code?(l.solution=n.solution,l.formErrors=["\u4fdd\u5b58\u6210\u529f"],l.back()):l.formErrors=[n.msg]})},l.prototype.back=function(){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-solution-list")},l.prototype.delete=function(){var l=this,n=this;n.solutionService.delete(n.solution.id).subscribe(function(e){1==e.code?(n.formErrors=["\u5220\u9664\u6210\u529f"],l.modalWrapper.closeModal(),l.back()):n.formErrors=["\u5220\u9664\u5931\u8d25"]})},l.prototype.showModal=function(){this.modalWrapper.showModal()},l.ctorParameters=function(){return[{type:cl.a},{type:U.a},{type:r.a},{type:o.e},{type:nl}]},l}(),_n=[[".issue-page-solution-edit{padding:15px}"]],mn=t["\u0275crt"]({encapsulation:2,styles:_n,data:{}});function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u65b0\u5efa\u754c\u9762"]))],null,null)}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u7f16\u8f91\u754c\u9762"]))],null,null)}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.showModal()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u5220\u9664"]))],null,null)}function Sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","validate-error"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275eld"](0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n          "]))],null,function(l,n){l(n,3,0,n.context.$implicit)})}function Cn(l){return t["\u0275vid"](0,[t["\u0275qud"](201326592,1,{modalWrapper:0}),(l()(),t["\u0275eld"](0,null,null,81,"div",[["class","issue-page-solution-edit container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,18,"div",[["class","edit-toolbar col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,bn)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Dn)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm back"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-arrow-circle-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u8fd4\u56de\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,53,"form",[["class","my-validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0;"submit"===n&&(u=!1!==t["\u0275nov"](l,30).onSubmit(e)&&u);"reset"===n&&(u=!1!==t["\u0275nov"](l,30).onReset()&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.x,[],null,null),t["\u0275did"](270336,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](1024,null,o.c,null,[o.h]),t["\u0275did"](8192,null,0,o.o,[o.c],null,null),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,10,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.save()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u4fdd\u5b58"])),(l()(),t["\u0275ted"](null,["\n        \xa0\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\u53d6\u6d88"])),(l()(),t["\u0275ted"](null,["\n        \xa0\xa0\xa0\xa0\xa0\xa0\n        "])),(l()(),t["\u0275and"](8388608,null,null,1,null,yn)),t["\u0275did"](8192,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,2,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u540d\u79f0"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,[["name",1]],null,5,"input",[["class","form-control"],["formControlName","name"],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,i=l.component;"input"===n&&(u=!1!==t["\u0275nov"](l,60)._handleInput(e.target.value)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,60).onTouched()&&u);"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,60)._compositionStart()&&u);"compositionend"===n&&(u=!1!==t["\u0275nov"](l,60)._compositionEnd(e.target.value)&&u);"ngModelChange"===n&&(u=!1!==(i.solution.name=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.d,[t.Renderer,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.d]),t["\u0275did"](335872,null,0,o.g,[[3,o.c],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.g]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n    "])),(l()(),t["\u0275eld"](0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,0,"label",[["class","col-sm-2 col-form-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,7,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","validate-errors"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275and"](8388608,null,null,1,null,Sn)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275eld"](0,null,null,2,"pop-dialog",[],null,[[null,"confirm"]],function(l,n,e){var t=!0,u=l.component;"confirm"===n&&(t=!1!==u.delete()&&t);return t},Sl.b,Sl.a)),t["\u0275did"](2154496,[[1,4],["modalWrapper",4]],0,Cl.a,[cl.a,z.a,t.Injector],{title:[0,"title"]},{confirm:"confirm"}),(l()(),t["\u0275ted"](0,['\n  \u786e\u8ba4\u5220\u9664\u540d\u4e3a"','"\u7684\u754c\u9762\u65b9\u6848?\n'])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,10,0,!(null!=e.solution&&e.solution.id)),l(n,13,0,null==e.solution?null:e.solution.id),l(n,30,0,e.form),l(n,47,0,e.solution.id);l(n,62,0,"name",e.solution.name),l(n,77,0,e.formErrors);l(n,85,0,"\u63d0\u793a")},function(l,n){var e=n.component;l(n,28,0,t["\u0275nov"](n,32).ngClassUntouched,t["\u0275nov"](n,32).ngClassTouched,t["\u0275nov"](n,32).ngClassPristine,t["\u0275nov"](n,32).ngClassDirty,t["\u0275nov"](n,32).ngClassValid,t["\u0275nov"](n,32).ngClassInvalid,t["\u0275nov"](n,32).ngClassPending),l(n,40,0,!e.form.valid),l(n,59,0,t["\u0275nov"](n,64).ngClassUntouched,t["\u0275nov"](n,64).ngClassTouched,t["\u0275nov"](n,64).ngClassPristine,t["\u0275nov"](n,64).ngClassDirty,t["\u0275nov"](n,64).ngClassValid,t["\u0275nov"](n,64).ngClassInvalid,t["\u0275nov"](n,64).ngClassPending),l(n,86,0,e.solution.name)})}var wn=t["\u0275ccf"]("issue-page-solution-edit",vn,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-solution-edit",[],null,null,null,Cn,mn)),t["\u0275did"](2154496,null,0,vn,[cl.a,U.a,r.a,o.e,nl],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),En=e("U80n"),Pn=function(){function l(l,n,e,t,u){this._state=l,this._routeService=n,this._route=e,this.fb=t,this.solutionService=u,this.solution={},this.itemMap={},this.pages=[]}return l.prototype.ngOnInit=function(){var l=this;this._route.params.forEach(function(n){l.id=+n.id}),this.loadData()},l.prototype.ngAfterViewInit=function(){},l.prototype.loadData=function(){var l=this;this.solutionService.getConfig(this.id).subscribe(function(n){l.solution=n.solution,l.itemMap=n.itemMap,l.pages=n.pages})},l.prototype.save=function(){},l.prototype.back=function(){this._routeService.navTo("/pages/org-admin/issue-settings/issue-page/page-solution-list")},l.ctorParameters=function(){return[{type:cl.a},{type:U.a},{type:r.a},{type:o.e},{type:nl}]},l}(),Rn=[[".issue-page-solution-config{padding:15px}.issue-page-solution-config table th{text-align:center!important}.issue-page-solution-config table td{padding:8px 5px 5px 5px!important;text-align:center!important}"]],kn=t["\u0275crt"]({encapsulation:2,styles:Rn,data:{}});function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,6,"option",[],null,null,null,null,null)),t["\u0275did"](73728,null,0,o.r,[t.ElementRef,t.Renderer,[2,o.t]],{value:[0,"value"]},null),t["\u0275did"](73728,null,0,o.z,[t.ElementRef,t.Renderer,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](null,["\n              "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),(l()(),t["\u0275ted"](null,["\n            "]))],function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.id+"-"+n.context.$implicit.name,"")),l(n,2,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.id+"-"+n.context.$implicit.name,""))},function(l,n){l(n,5,0,n.context.$implicit.name)})}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,9,"select",[["class","form-control form-control-sm"],["name","parentId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;"change"===n&&(u=!1!==t["\u0275nov"](l,3).onChange(e.target.value)&&u);"blur"===n&&(u=!1!==t["\u0275nov"](l,3).onTouched()&&u);"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.value[l.context.$implicit]=e)&&u);return u},null,null)),t["\u0275did"](8192,null,0,o.t,[t.Renderer,t.ElementRef],null,null),t["\u0275prd"](512,null,o.l,function(l){return[l]},[o.t]),t["\u0275did"](335872,null,0,o.q,[[8,null],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](1024,null,o.m,null,[o.q]),t["\u0275did"](8192,null,0,o.n,[o.m],null,null),(l()(),t["\u0275ted"](null,["\n            "])),(l()(),t["\u0275and"](8388608,null,null,1,null,xn)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275ted"](null,["\n        "]))],function(l,n){var e=n.component;l(n,5,0,"parentId",n.parent.context.$implicit.value[n.context.$implicit]),l(n,10,0,e.pages)},function(l,n){l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)})}function In(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["",""])),t["\u0275ppd"](2),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275and"](8388608,null,null,2,null,On)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pad"](3),(l()(),t["\u0275ted"](null,["\n      "]))],function(l,n){l(n,7,0,l(n,8,0,"create","edit","view"))},function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,l(n,4,0,t["\u0275nov"](n.parent,1),n.context.$implicit.key,1)))})}function Tn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,En.a,[]),t["\u0275pid"](0,sl.b,[]),(l()(),t["\u0275eld"](0,null,null,54,"div",[["class","issue-page-solution-config container-fluid"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,15,"div",[["class","edit-toolbar col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,4,"div",[["class","title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u914d\u7f6e\u754c\u9762\u65b9\u6848 - ",""])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,3,"button",[["class","btn btn-secondary btn-with-icon btn-sm back"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;"click"===n&&(t=!1!==u.back()&&t);return t},null,null)),(l()(),t["\u0275ted"](null,["\n          "])),(l()(),t["\u0275eld"](0,null,null,0,"i",[["class","fa fa-arrow-circle-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u8fd4\u56de\n        "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n\n  "])),(l()(),t["\u0275eld"](0,null,null,29,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275eld"](0,null,null,26,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,16,"thead",[["class","thead-inverse"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275eld"](0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u95ee\u9898\u7c7b\u578b"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u521b\u5efa\u754c\u9762"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u7f16\u8f91\u754c\u9762"])),(l()(),t["\u0275ted"](null,["\n        "])),(l()(),t["\u0275eld"](0,null,null,1,"th",[["style","width: 200px"]],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\u67e5\u770b\u754c\u9762"])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n\n      "])),(l()(),t["\u0275eld"](0,null,null,5,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275and"](8388608,null,null,2,null,In)),t["\u0275did"](401408,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](1),(l()(),t["\u0275ted"](null,["\n      "])),(l()(),t["\u0275ted"](null,["\n    "])),(l()(),t["\u0275ted"](null,["\n  "])),(l()(),t["\u0275ted"](null,["\n\n"])),(l()(),t["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,51,0,t["\u0275unv"](n,51,0,l(n,52,0,t["\u0275nov"](n,0),e.itemMap)))},function(l,n){l(n,11,0,n.component.solution.name)})}var Mn=t["\u0275ccf"]("issue-page-solution-config",Pn,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,null,null,1,"issue-page-solution-config",[],null,null,null,Tn,kn)),t["\u0275did"](2154496,null,0,Pn,[cl.a,U.a,r.a,o.e,nl],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Nn=e("KRwK"),qn=e("CPp0"),Fn=e("a3e3");e.d(n,"IssuePageModuleNgFactory",function(){return Hn});var Vn=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),jn=function(l){function n(n){return l.call(this,n,[el.a,tl.a,al,bl,Il,sn,hn,wn,Mn],[])||this}return Vn(n,l),Object.defineProperty(n.prototype,"_NgLocalization_26",{get:function(){return null==this.__NgLocalization_26&&(this.__NgLocalization_26=new i.NgLocaleLocalization(this.parent.get(t.LOCALE_ID))),this.__NgLocalization_26},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_\u0275i_27",{get:function(){return null==this.__\u0275i_27&&(this.__\u0275i_27=new o.y),this.__\u0275i_27},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_FormBuilder_28",{get:function(){return null==this.__FormBuilder_28&&(this.__FormBuilder_28=new o.e),this.__FormBuilder_28},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NgbModal_29",{get:function(){return null==this.__NgbModal_29&&(this.__NgbModal_29=new z.a(this.componentFactoryResolver,this,this.parent.get(Nn.a))),this.__NgbModal_29},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RouteService_30",{get:function(){return null==this.__RouteService_30&&(this.__RouteService_30=new U.a(this.parent.get(r.k))),this.__RouteService_30},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RequestService_31",{get:function(){return null==this.__RequestService_31&&(this.__RequestService_31=new Z.a(this.parent.get(qn.e),this._RouteService_30)),this.__RequestService_31},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_UserService_32",{get:function(){return null==this.__UserService_32&&(this.__UserService_32=new W.a(this.parent.get(cl.a),this._RouteService_30,this._RequestService_31)),this.__UserService_32},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ClientService_33",{get:function(){return null==this.__ClientService_33&&(this.__ClientService_33=new G.a(this.parent.get(cl.a),this._RouteService_30,this._RequestService_31)),this.__ClientService_33},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PrivilegeService_34",{get:function(){return null==this.__PrivilegeService_34&&(this.__PrivilegeService_34=new J.a),this.__PrivilegeService_34},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_OrgPrivilegeDirective_35",{get:function(){return null==this.__OrgPrivilegeDirective_35&&(this.__OrgPrivilegeDirective_35=new K.a(this._PrivilegeService_34,this.parent.get(t.ElementRef),this.parent.get(t.Renderer))),this.__OrgPrivilegeDirective_35},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DragDropConfig_37",{get:function(){return null==this.__DragDropConfig_37&&(this.__DragDropConfig_37=new E),this.__DragDropConfig_37},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DragDropService_38",{get:function(){return null==this.__DragDropService_38&&(this.__DragDropService_38=P()),this.__DragDropService_38},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DragDropSortableService_39",{get:function(){return null==this.__DragDropSortableService_39&&(this.__DragDropSortableService_39=k(this._DragDropConfig_37)),this.__DragDropSortableService_39},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_SortableContainer_40",{get:function(){return null==this.__SortableContainer_40&&(this.__SortableContainer_40=new V(this.parent.get(t.ElementRef),this._DragDropService_38,this._DragDropConfig_37,this.parent.get(t.ChangeDetectorRef),this._DragDropSortableService_39)),this.__SortableContainer_40},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DatetimePickerService_41",{get:function(){return null==this.__DatetimePickerService_41&&(this.__DatetimePickerService_41=new Q.a),this.__DatetimePickerService_41},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IssuePageService_42",{get:function(){return null==this.__IssuePageService_42&&(this.__IssuePageService_42=new Y(this._RequestService_31)),this.__IssuePageService_42},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IssuePageTabService_43",{get:function(){return null==this.__IssuePageTabService_43&&(this.__IssuePageTabService_43=new X(this._RequestService_31)),this.__IssuePageTabService_43},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IssuePageElemService_44",{get:function(){return null==this.__IssuePageElemService_44&&(this.__IssuePageElemService_44=new ll(this._RequestService_31)),this.__IssuePageElemService_44},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IssuePageSolutionService_45",{get:function(){return null==this.__IssuePageSolutionService_45&&(this.__IssuePageSolutionService_45=new nl(this._RequestService_31)),this.__IssuePageSolutionService_45},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._CommonModule_0=new i.CommonModule,this._\u0275ba_1=new o.v,this._FormsModule_2=new o.i,this._ReactiveFormsModule_3=new o.s,this._RouterModule_4=new r.n(this.parent.get(r.t,null),this.parent.get(r.k,null)),this._TranslateModule_5=new a.b,this._TranslateStore_6=new s.a,this._TranslateLoader_7=g.b(this.parent.get(qn.e)),this._TranslateParser_8=new d.a,this._MissingTranslationHandler_9=new c.a,this._USE_STORE_10=void 0,this._TranslateService_11=new p.a(this._TranslateStore_6,this._TranslateLoader_7,this._TranslateParser_8,this._MissingTranslationHandler_9,this._USE_STORE_10),this._AppTranslationModule_12=new g.a(this._TranslateService_11),this._NgbDropdownModule_13=new f.a,this._PipeModule_14=new h.a,this._NgaModule_15=new v.a,this._NgbModalModule_16=new _.d,this._NgbPaginationModule_17=new m.a,this._NgbTabsetModule_18=new b.a,this._NgbButtonsModule_19=new D.a,this._NgbCollapseModule_20=new y.a,this._DndModule_21=new L,this._DirectiveModule_22=new $.a,this._PopDialogModule_23=new B.a,this._IssueInputModule_24=new A,this._IssuePageModule_25=new u,this._ROUTES_36=[[{path:"",component:ul,children:[{path:"page-list",component:fl},{path:"page-edit/:id",component:yl},{path:"page-config/:id",component:Gl},{path:"page-solution-list",component:dn},{path:"page-solution-edit/:id",component:vn},{path:"page-solution-config/:id",component:Pn}]}]],this._IssuePageModule_25},n.prototype.getInternal=function(l,n){return l===i.CommonModule?this._CommonModule_0:l===o.v?this._\u0275ba_1:l===o.i?this._FormsModule_2:l===o.s?this._ReactiveFormsModule_3:l===r.n?this._RouterModule_4:l===a.b?this._TranslateModule_5:l===s.a?this._TranslateStore_6:l===Fn.b?this._TranslateLoader_7:l===d.b?this._TranslateParser_8:l===c.b?this._MissingTranslationHandler_9:l===p.b?this._USE_STORE_10:l===p.a?this._TranslateService_11:l===g.a?this._AppTranslationModule_12:l===f.a?this._NgbDropdownModule_13:l===h.a?this._PipeModule_14:l===v.a?this._NgaModule_15:l===_.d?this._NgbModalModule_16:l===m.a?this._NgbPaginationModule_17:l===b.a?this._NgbTabsetModule_18:l===D.a?this._NgbButtonsModule_19:l===y.a?this._NgbCollapseModule_20:l===L?this._DndModule_21:l===$.a?this._DirectiveModule_22:l===B.a?this._PopDialogModule_23:l===A?this._IssueInputModule_24:l===u?this._IssuePageModule_25:l===i.NgLocalization?this._NgLocalization_26:l===o.y?this._\u0275i_27:l===o.e?this._FormBuilder_28:l===z.a?this._NgbModal_29:l===U.a?this._RouteService_30:l===Z.a?this._RequestService_31:l===W.a?this._UserService_32:l===G.a?this._ClientService_33:l===J.a?this._PrivilegeService_34:l===K.a?this._OrgPrivilegeDirective_35:l===r.i?this._ROUTES_36:l===E?this._DragDropConfig_37:l===R?this._DragDropService_38:l===O?this._DragDropSortableService_39:l===V?this._SortableContainer_40:l===Q.a?this._DatetimePickerService_41:l===Y?this._IssuePageService_42:l===X?this._IssuePageTabService_43:l===ll?this._IssuePageElemService_44:l===nl?this._IssuePageSolutionService_45:n},n.prototype.destroyInternal=function(){this.__OrgPrivilegeDirective_35&&this._OrgPrivilegeDirective_35.ngOnDestroy()},n}(t["\u0275NgModuleInjector"]),Hn=new t.NgModuleFactory(jn,u)}});